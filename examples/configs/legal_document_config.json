{
    "processing": {
      "vector_dimension": 10000,
      "vector_type": "binary",
      "reasoning_approach": "bayesian",
      "certainty_propagation": "noisy_or",
      "recalibration_enabled": true,
      "max_reasoning_depth": 7,
      "domain": "legal",
      "domain_config": {
        "positive_outcome_keywords": ["low risk", "favorable", "standard", "acceptable"],
        "negative_outcome_keywords": ["high risk", "unfavorable", "non-standard", "concerning"],
        "neutral_outcome_keywords": ["moderate risk", "mixed", "review", "qualified"],
        "outcome_field": "risk_assessment",
        "positive_outcome": "LOW_RISK",
        "negative_outcome": "HIGH_RISK",
        "neutral_outcome": "MODERATE_RISK",
        "clause_types": [
          {
            "name": "limitation_of_liability",
            "risk_level": "high",
            "keywords": ["limit liability", "not liable", "no responsibility", "hold harmless"]
          },
          {
            "name": "indemnification",
            "risk_level": "high",
            "keywords": ["indemnify", "defend", "hold harmless", "indemnification"]
          },
          {
            "name": "intellectual_property",
            "risk_level": "medium",
            "keywords": ["intellectual property", "copyright", "patent", "trademark"]
          },
          {
            "name": "termination",
            "risk_level": "medium",
            "keywords": ["terminate", "termination", "cancel", "discontinue"]
          },
          {
            "name": "governing_law",
            "risk_level": "low",
            "keywords": ["governing law", "jurisdiction", "venue", "arbitration"]
          },
          {
            "name": "payment_terms",
            "risk_level": "medium",
            "keywords": ["payment", "fee", "invoice", "compensation"]
          },
          {
            "name": "confidentiality",
            "risk_level": "medium",
            "keywords": ["confidential", "non-disclosure", "proprietary", "secret"]
          },
          {
            "name": "force_majeure",
            "risk_level": "low",
            "keywords": ["force majeure", "act of god", "beyond control", "unforeseen"]
          },
          {
            "name": "warranties",
            "risk_level": "high",
            "keywords": ["warranty", "guarantee", "represent", "assurance"]
          },
          {
            "name": "assignment",
            "risk_level": "medium",
            "keywords": ["assign", "assignment", "transfer", "delegate"]
          }
        ],
        "risk_thresholds": {
          "high_risk_count": {
            "low": 0,
            "moderate": 2,
            "high": 5
          },
          "prior_probabilities": {
            "low_risk": 0.3,
            "moderate_risk": 0.5,
            "high_risk": 0.2
          }
        }
      }
    },
    "persistence": {
      "load_previous_state": false,
      "save_state": true,
      "state_save_path": "./output/legal_analysis_state.pkl",
      "vector_store_path": "./output/legal_vectors.faiss"
    },
    "logging": {
      "log_level": "info",
      "log_path": "./logs/legal_analysis.log",
      "include_vector_operations": false,
      "include_llm_interactions": true,
      "include_reasoning_steps": true,
      "explanation_detail_level": "high"
    },
    "llm": {
      "model": "gpt-4",
      "temperature": 0.0,
      "max_tokens": 2500,
      "embedding_model": "text-embedding-ada-002",
      "embedding_dimension": 1536,
      "cache_enabled": true,
      "cache_path": "./cache/legal_llm_cache.json"
    },
    "input_data": {
      "rules": [
        {"text": "If a contract contains multiple clauses limiting liability, then it has a high risk level.", "certainty": 0.9},
        {"text": "If a contract has one-sided indemnification clauses, then it is unfavorable.", "certainty": 0.85},
        {"text": "If intellectual property rights are broadly assigned to the counterparty, then it poses a high IP risk.", "certainty": 0.8},
        {"text": "If a contract allows immediate termination without cause by the counterparty, then it has a high termination risk.", "certainty": 0.85},
        {"text": "If a contract lacks clear payment terms, then it has moderate financial risk.", "certainty": 0.75},
        {"text": "If confidentiality obligations extend beyond 2 years, then it is within standard practice.", "certainty": 0.7},
        {"text": "If warranties are disclaimed or heavily limited, then it has a high warranty risk.", "certainty": 0.8},
        {"text": "If a contract prohibits assignment, then it has a moderate operational risk.", "certainty": 0.7},
        {"text": "If a contract contains standard force majeure clauses, then it has low business interruption risk.", "certainty": 0.8},
        {"text": "If a contract has governing law in an unfavorable jurisdiction, then it has a moderate legal risk.", "certainty": 0.75},
        {"text": "If a contract has more than 5 high-risk clauses, then the overall risk assessment is high.", "certainty": 0.9},
        {"text": "If a contract has 2-5 high-risk clauses, then the overall risk assessment is moderate.", "certainty": 0.85},
        {"text": "If a contract has fewer than 2 high-risk clauses, then the overall risk assessment is low.", "certainty": 0.8}
      ],
      "entities": [
        {
          "id": "contract_001",
          "name": "Vendor Services Agreement",
          "type": "service_agreement",
          "facts": [
            {"text": "The contract contains a clause limiting liability to the amount paid in the last 12 months.", "certainty": 0.95},
            {"text": "There is a one-sided indemnification clause requiring us to indemnify the vendor for all claims.", "certainty": 0.9},
            {"text": "The intellectual property assignment clause gives the vendor ownership of all work product.", "certainty": 0.85},
            {"text": "The vendor can terminate the agreement with 30 days notice for any reason.", "certainty": 0.95},
            {"text": "Payment terms require payment within 15 days of invoice.", "certainty": 0.9},
            {"text": "Confidentiality obligations extend 3 years beyond termination.", "certainty": 0.95},
            {"text": "All warranties are expressly disclaimed, including implied warranties of merchantability.", "certainty": 0.9},
            {"text": "The agreement cannot be assigned without prior written consent of the vendor.", "certainty": 0.9},
            {"text": "Standard force majeure clause is included.", "certainty": 0.95},
            {"text": "Governing law is the State of Delaware with exclusive jurisdiction in Delaware courts.", "certainty": 0.95}
          ]
        },
        {
          "id": "contract_002",
          "name": "Employment Agreement",
          "type": "employment_contract",
          "facts": [
            {"text": "No clauses limiting employer liability are present.", "certainty": 0.9},
            {"text": "No indemnification provisions are included.", "certainty": 0.9},
            {"text": "Intellectual property created during employment belongs to the employer.", "certainty": 0.95},
            {"text": "Either party can terminate with 30 days notice, but employer can terminate immediately for cause.", "certainty": 0.95},
            {"text": "Compensation terms are clearly defined with payment schedule.", "certainty": 0.9},
            {"text": "Confidentiality obligations are perpetual.", "certainty": 0.9},
            {"text": "No warranty provisions are included.", "certainty": 0.9},
            {"text": "The agreement cannot be assigned by the employee but can be assigned by the employer.", "certainty": 0.9},
            {"text": "No force majeure clause is included.", "certainty": 0.9},
            {"text": "Governing law is the State of California with arbitration in San Francisco.", "certainty": 0.95}
          ]
        },
        {
          "id": "contract_003",
          "name": "Software License Agreement",
          "type": "license_agreement",
          "facts": [
            {"text": "Liability is limited to fees paid in the previous 6 months.", "certainty": 0.95},
            {"text": "Mutual indemnification for intellectual property infringement claims is included.", "certainty": 0.9},
            {"text": "Licensee retains ownership of its data; licensor retains ownership of the software.", "certainty": 0.95},
            {"text": "Either party can terminate for material breach with 30 days cure period.", "certainty": 0.9},
            {"text": "License fees are due annually in advance.", "certainty": 0.95},
            {"text": "Confidentiality obligations extend 5 years beyond termination.", "certainty": 0.9},
            {"text": "Limited warranty that software will perform substantially in accordance with documentation for 90 days.", "certainty": 0.9},
            {"text": "Licensee cannot assign without licensor consent; licensor can assign freely.", "certainty": 0.9},
            {"text": "Standard force majeure clause is included.", "certainty": 0.95},
            {"text": "Governing law is the State of New York with exclusive jurisdiction in New York courts.", "certainty": 0.95}
          ]
        }
      ]
    },
    "output_schema": {
      "format": "json",
      "fields": [
        {"name": "document_id", "type": "string"},
        {"name": "name", "type": "string"},
        {"name": "contract_type", "type": "string"},
        {"name": "risk_assessment", "type": "string"},
        {"name": "certainty", "type": "float"},
        {"name": "high_risk_clauses", "type": "integer"},
        {"name": "standard_clauses", "type": "integer"},
        {"name": "low_risk_clauses", "type": "integer"},
        {"name": "reasoning", "type": "object"}
      ],
      "include_reasoning_trace": true,
      "include_explanation": true,
      "include_vector_details": false,
      "explanation_template": "The {{contract_type}} titled \"{{document_name}}\" presents {{risk_level}} risk with {{certainty_percentage}}% confidence. Our analysis identified {{high_risk_count}} high-risk, {{standard_count}} standard, and {{low_risk_count}} low-risk clauses. Key issues include {{key_issues}}.",
      "domain": "legal"
    }
  }